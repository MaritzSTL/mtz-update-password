<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>mtz-update-password test</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../web-component-tester/browser.js"></script>

    <link rel="import" href="../mtz-update-password.html">
  </head>
  <body>
    <test-fixture id="basic">
      <template>
        <mtz-update-password></mtz-update-password>
      </template>
    </test-fixture>

    <script>
      describe('mtz-update-password', () => {
        let element;

        beforeEach(() => element = fixture('basic'));

        // Private Functions
        describe('_blockChildEvent(event)', () => {
          const event = {
            target: {}
          };

          beforeEach(() => {
            event.stopPropagation = sinon.spy();
          });

          it('should stop event propagation when the target is not mtz-update-password', () => {
            event.target.is = 'foo-el';
            element._blockChildEvent(event);
            expect(event.stopPropagation.calledOnce).to.equal(true);
          });
          it('should not stop event propagation when the target is mtz-update-password', () => {
            event.target.is = element.is;
            element._blockChildEvent(event);
            expect(event.stopPropagation.called).to.equal(false);
          });
        });
        describe('_getValidity(value)', () => {
          it('should return false when value !== _secondValue and disableRetype');
          it('should return true when value === _secondValue and !disableRetype');
          it('should return true when value contains >= minCapitals capital letters');
          it('should return false when value contains < minCapitals capital letters');
          it('should return true when value contains >= minSymbols from symbols');
          it('should return false when value contains < minSymbols from symbols');
          it('should return true when value contains >= minNumbers numbers');
          it('should reutrn false when value contains < minNumbers numbers');
        });
      });
    </script>
  </body>
</html>
